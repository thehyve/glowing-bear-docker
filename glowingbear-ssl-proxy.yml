version: '3'

services:
  glowingbear-ssl-proxy:
    image: thehyve/glowingbear-ssl-proxy:0.0.2
    container_name: glowingbear-ssl-proxy
    environment:
      SSL_PROXY_HOSTNAMES: ${SSL_PROXY_HOSTNAMES:?Please configure SSL_PROXY_HOSTNAMES.}
      LOCAL_DOCKER_IP: ${LOCAL_DOCKER_IP:-172.17.0.1}
    volumes:
      - ./ssl/server.pem:/etc/nginx/server.pem
      - ./ssl/server.key:/etc/nginx/server.key
    ports:
      - 80:80
      - 443:443
    restart: unless-stopped
    logging:
      driver: ${DOCKER_LOGGING_DRIVER:-journald}
      options:
        labels: application
        tag: glowingbear-ssl-proxy
